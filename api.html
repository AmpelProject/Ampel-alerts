
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>API reference &#8212; ampel-alerts 0.8.1-alpha.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Ampel-photometry" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="index.html" title="Ampel-photometry"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ampel-alerts 0.8.1-alpha.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">API reference</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="api-reference">
<h1>API reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<section id="base-classes">
<h2>Base classes<a class="headerlink" href="#base-classes" title="Permalink to this headline">¶</a></h2>
</section>
<section id="alert-ingestion">
<h2>Alert ingestion<a class="headerlink" href="#alert-ingestion" title="Permalink to this headline">¶</a></h2>
</section>
<section id="alert-loading">
<h2>Alert loading<a class="headerlink" href="#alert-loading" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ampel.alert.load.TarAlertLoader.TarAlertLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ampel.alert.load.TarAlertLoader.</span></span><span class="sig-name descname"><span class="pre">TarAlertLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ampel/alert/load/TarAlertLoader.html#TarAlertLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ampel.alert.load.TarAlertLoader.TarAlertLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Load alerts from a <code class="docutils literal notranslate"><span class="pre">tar</span></code> file. The archive must be laid out like the
<a class="reference external" href="https://ztf.uw.edu/alerts/public/">ZTF public alert archive</a>, i.e. one
alert per file.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ampel.alert.load.FileAlertLoader.FileAlertLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ampel.alert.load.FileAlertLoader.</span></span><span class="sig-name descname"><span class="pre">FileAlertLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ampel/alert/load/FileAlertLoader.html#FileAlertLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ampel.alert.load.FileAlertLoader.FileAlertLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Load alerts from one of more files.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ampel.alert.load.FileAlertLoader.FileAlertLoader.files">
<span class="sig-name descname"><span class="pre">files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ampel.alert.load.FileAlertLoader.FileAlertLoader.files" title="Permalink to this definition">¶</a></dt>
<dd><p>paths to files to load</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ampel.alert.load.DirAlertLoader.DirAlertLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ampel.alert.load.DirAlertLoader.</span></span><span class="sig-name descname"><span class="pre">DirAlertLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ampel/alert/load/DirAlertLoader.html#DirAlertLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ampel.alert.load.DirAlertLoader.DirAlertLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Load alerts from a (flat) directory.</p>
</dd></dl>

</section>
<section id="rejected-alerts-handling">
<h2>Rejected alerts handling<a class="headerlink" href="#rejected-alerts-handling" title="Permalink to this headline">¶</a></h2>
<p>Facilities for tracking rejected alerts</p>
<section id="database-storage">
<h3>Database storage<a class="headerlink" href="#database-storage" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ampel.alert.reject.DBRejectedLogsHandler.DBRejectedLogsHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ampel.alert.reject.DBRejectedLogsHandler.</span></span><span class="sig-name descname"><span class="pre">DBRejectedLogsHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ampel/alert/reject/DBRejectedLogsHandler.html#DBRejectedLogsHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ampel.alert.reject.DBRejectedLogsHandler.DBRejectedLogsHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves rejected log events (by T0 filters) into the NoSQL database.
This class does not inherit logging.Handler but implements the method handle()
so that this class can be used together with RecordBufferingHandler.forward() or copy()
Note: isinstance(&lt;this class instance&gt;, LoggingHandlerProtocol) will return true</p>
<dl class="py method">
<dt class="sig sig-object py" id="ampel.alert.reject.DBRejectedLogsHandler.DBRejectedLogsHandler.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ampel/alert/reject/DBRejectedLogsHandler.html#DBRejectedLogsHandler.flush"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ampel.alert.reject.DBRejectedLogsHandler.DBRejectedLogsHandler.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Will raise Exception if DB issue occurs</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="file-storage">
<h3>File storage<a class="headerlink" href="#file-storage" title="Permalink to this headline">¶</a></h3>
<p>In applications where most alerts are rejected, rejection records are likely to
be written much more often than they are read. In such cases, it can be much
more efficient to store (fixed-size) rejection records in an append-only log
than in a document-oriented database. <a class="reference external" href="https://ampelproject.github.io/Ampel-core/api.html#ampel.core.AmpelRegister.AmpelRegister" title="(in ampel-core v0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AmpelRegister</span></code></a>
implements such a log, and several subclasses exist to store rejection records
with various levels of detail.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/ampel.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Ampel-photometry</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="index.html" title="Ampel-photometry"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ampel-alerts 0.8.1-alpha.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">API reference</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018-2021, Ampel Project.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.0.
    </div>
  </body>
</html>